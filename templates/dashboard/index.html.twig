{% extends 'base.html.twig' %}
{% import "macros/widgets.html.twig" as widgets %}

{% block page_title %}{{ 'dashboard.title'|trans }}{% endblock %}
{% block subtitle %}{{ 'dashboard.subtitle'|trans }}{% endblock %}
{% block page_actions %}
    {% set event = actions(app.user, 'dashboard', 'dashboard', {'widgets': widgets, 'available': available}) %}
    {{ widgets.page_actions(event.actions) }}
{% endblock %}

{% block page_class %}dashboard{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    {{ encore_entry_link_tags('chart') }}
{% endblock %}

{% block head %}
    {{ parent() }}
    {{ encore_entry_script_tags('chart') }}
{% endblock %}

{% block main %}

    {% if widgets is empty %}
        {{ widgets.nothing_found() }}
    {% else %}
        <div class="row row-deck row-cards">
        {% for widget in widgets %}
            {% set columnSize = widget.width %}
            <div class="col-md-{{ columnSize * 3 }}{% if columnSize <= 2 %} col-sm-{{ columnSize * 6  }}{% endif %}" id="{{ widget.id }}">
                {{ render_widget(widget) }}
            </div>
        {% endfor %}
        </div>
    {% endif %}

{% endblock %}
