{% extends kimai_context.modalRequest ? 'form.html.twig' : 'base.html.twig' %}
{% import "system-configuration/actions.html.twig" as actions %}

{% block page_title %}{{ 'menu.system_configuration'|trans }}{% endblock %}
{% block page_actions %}{{ actions.system_configuration('index') }}{% endblock %}

{% block main %}

    {% set formEditTemplate = kimai_context.modalRequest ? 'default/_form_modal.html.twig' : 'default/_form.html.twig' %}

    {% for section in sections %}
        {% set title = section.model.translation|trans({}, section.model.translationDomain) %}
        {% if title == section.model.translation %}
            {% set title = ('label.' ~ section.model.section)|trans %}
        {% endif %}
        {% embed formEditTemplate with {'title': title, 'form': section.form} %}
            {% block form_body %}
                {% for pref in form.children.configuration %}
                    {{ form_widget(pref) }}
                {% endfor %}
            {% endblock %}
        {% endembed %}
    {% endfor %}

{% endblock %}
