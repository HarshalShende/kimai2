/*! For license information please see dashboard.1eef2d28.js.LICENSE.txt */
(self.webpackChunkkimai2=self.webpackChunkkimai2||[]).push([[966],{3173:function(t,i,e){e(3081),e(1371),e.g.GridStack=e(4426)},4426:function(t){self,t.exports=(()=>{"use strict";var t={21:(t,i,e)=>{Object.defineProperty(i,"t",{value:!0}),i.GridStackDD=void 0;const s=e(334),h=e(270),r=e(593);class n extends s.GridStackDDI{static get(){return s.GridStackDDI.get()}remove(t){return this.draggable(t,"destroy").resizable(t,"destroy"),t.gridstackNode&&delete t.gridstackNode.l,this}}function l(t,i){let e=t?t.gridstackNode:void 0;e&&e.grid&&(i?e.o=!0:delete e.o,i?t.classList.add("grid-stack-item-removing"):t.classList.remove("grid-stack-item-removing"))}i.GridStackDD=n,h.GridStack.prototype.u=function(){if(this.opts.staticGrid||!this.opts.acceptWidgets&&!this.opts.removable)return n.get().droppable(this.el,"destroy"),this;let t,i,e=(e,s,h)=>{let l=s.gridstackNode;if(!l)return;h=h||s;let o=this.el.getBoundingClientRect(),{top:a,left:d}=h.getBoundingClientRect();d-=o.left,a-=o.top;let u={position:{top:a,left:d}};if(l.p){if(l.x=Math.max(0,Math.round(d/i)),l.y=Math.max(0,Math.round(a/t)),delete l.autoPosition,this.engine.nodeBoundFix(l),!this.engine.willItFit(l)){if(l.autoPosition=!0,!this.engine.willItFit(l))return void n.get().off(s,"drag");l.m&&(r.Utils.copyPos(l,l.m),delete l.m)}this.v(h,e,u,l,i,t)}else this._(h,e,u,l,i,t)};return n.get().droppable(this.el,{accept:t=>{let i=t.gridstackNode;if((null==i?void 0:i.grid)===this)return!0;if(!this.opts.acceptWidgets)return!1;if(null==i?void 0:i.subGrid)return!1;let e=!0;if("function"==typeof this.opts.acceptWidgets)e=this.opts.acceptWidgets(t);else{let i=!0===this.opts.acceptWidgets?".grid-stack-item":this.opts.acceptWidgets;e=t.matches(i)}if(e&&i&&this.opts.maxRow){let t={w:i.w,h:i.h,minW:i.minW,minH:i.minH};e=this.engine.willItFit(t)}return e}}).on(this.el,"dropover",((s,h,r)=>{let o=h.gridstackNode;if((null==o?void 0:o.grid)===this&&!o.p)return!1;(null==o?void 0:o.grid)&&o.grid!==this&&!o.p&&o.grid.M(h,r),i=this.cellWidth(),t=this.getCellHeight(!0),o||(o=this.j(h)),o.grid||(o.O=!0,h.gridstackNode=o),r=r||h;let a=o.w||Math.round(r.offsetWidth/i)||1,d=o.h||Math.round(r.offsetHeight/t)||1;return o.grid&&o.grid!==this?(h.k||(h.k=o),h.gridstackNode=o=Object.assign(Object.assign({},o),{w:a,h:d,grid:this}),this.engine.cleanupNode(o).nodeBoundFix(o),o.l=o.O=o.p=!0):(o.w=a,o.h=d,o.p=!0),l(o.el,!1),n.get().on(h,"drag",e),e(s,h,r),!1})).on(this.el,"dropout",((t,i,e)=>{let s=i.gridstackNode;return!!s&&(s.grid&&s.grid!==this||this.M(i,e),!1)})).on(this.el,"drop",((t,i,e)=>{let s=i.gridstackNode;if((null==s?void 0:s.grid)===this&&!s.O)return!1;let h=!!this.placeholder.parentElement;this.placeholder.remove();let l=i.k;if(delete i.k,h&&l&&l.grid&&l.grid!==this){let t=l.grid;t.engine.removedNodes.push(l),t.$()}return!!s&&(h&&(this.engine.cleanupNode(s),s.grid=this),n.get().off(i,"drag"),e!==i?(e.remove(),i.gridstackNode=l,h&&(i=i.cloneNode(!0))):(i.remove(),n.get().remove(i)),!!h&&(i.gridstackNode=s,s.el=i,r.Utils.copyPos(s,this.j(this.placeholder)),r.Utils.removePositioningStyles(i),this.S(i,s),this.el.appendChild(i),this.N(),this.engine.addedNodes.push(s),this.C(),this.H(),this.engine.endUpdate(),this.I.dropped&&this.I.dropped(Object.assign(Object.assign({},t),{type:"dropped"}),l&&l.grid?l:void 0,s),window.setTimeout((()=>{s.el&&s.el.parentElement?this.R(s):this.engine.removeNode(s)})),!1))})),this},h.GridStack.prototype.A=function(){if(!this.opts.staticGrid&&"string"==typeof this.opts.removable){let t=document.querySelector(this.opts.removable);if(!t)return this;n.get().isDroppable(t)||n.get().droppable(t,this.opts.removableOptions).on(t,"dropover",((t,i)=>l(i,!0))).on(t,"dropout",((t,i)=>l(i,!1)))}return this},h.GridStack.setupDragIn=function(t,i){let e,s;if(t&&(e=t,s=Object.assign(Object.assign({},{revert:"invalid",handle:".grid-stack-item-content",scroll:!1,appendTo:"body"}),i||{})),"string"!=typeof e)return;let h=n.get();r.Utils.getElements(e).forEach((t=>{h.isDraggable(t)||h.dragIn(t,s)}))},h.GridStack.prototype.R=function(t){let i=t.el,e=n.get();if(this.opts.staticGrid||(t.noMove||this.opts.disableDrag)&&(t.noResize||this.opts.disableResize))return t.l&&(e.remove(i),delete t.l),i.classList.add("ui-draggable-disabled","ui-resizable-disabled"),this;if(!t.l){let s,h,n=(e,r)=>{this.I[e.type]&&this.I[e.type](e,e.target),s=this.cellWidth(),h=this.getCellHeight(!0),this.v(i,e,r,t,s,h)},l=(e,r)=>{this._(i,e,r,t,s,h)},o=s=>{this.placeholder.remove(),delete t.D,delete t.W;let h=s.target;if(h.gridstackNode&&h.gridstackNode.grid===this){if(t.el=h,t.o){let r=i.gridstackNode.grid;r.I[s.type]&&r.I[s.type](s,h),e.remove(i),r.engine.removedNodes.push(t),r.$(),delete i.gridstackNode,delete t.el,i.remove()}else t.p?(r.Utils.removePositioningStyles(h),r.Utils.copyPos(t,t.F),this.P(h,t),this.engine.addNode(t)):(r.Utils.removePositioningStyles(h),this.P(h,t)),this.I[s.type]&&this.I[s.type](s,h);this.T=0,this.N(),this.H(),this.engine.endUpdate()}};e.draggable(i,{start:n,stop:o,drag:l}).resizable(i,{start:n,stop:o,resize:l}),t.l=!0}return t.noMove||this.opts.disableDrag?(e.draggable(i,"disable"),i.classList.add("ui-draggable-disabled")):(e.draggable(i,"enable"),i.classList.remove("ui-draggable-disabled")),t.noResize||this.opts.disableResize?(e.resizable(i,"disable"),i.classList.add("ui-resizable-disabled")):(e.resizable(i,"enable"),i.classList.remove("ui-resizable-disabled")),this},h.GridStack.prototype.v=function(t,i,e,s,h,r){if(this.engine.cleanNodes().beginUpdate(s),this.P(this.placeholder,s),this.el.appendChild(this.placeholder),s.el=this.placeholder,s.G=e.position,s.U=e.position.top,s.D="dragstart"===i.type,delete s.W,"dropover"===i.type&&s.p&&(this.engine.addNode(s),s.D=!0),this.engine.cacheRects(h,r,this.opts.marginTop,this.opts.marginRight,this.opts.marginBottom,this.opts.marginLeft),"resizestart"===i.type){let i=n.get().resizable(t,"option","minWidth",h*(s.minW||1)).resizable(t,"option","minHeight",r*(s.minH||1));s.maxW&&i.resizable(t,"option","maxWidth",h*s.maxW),s.maxH&&i.resizable(t,"option","maxHeight",r*s.maxH)}},h.GridStack.prototype.M=function(t,i){let e=t.gridstackNode;e&&(n.get().off(t,"drag"),e.p||(e.p=!0,this.engine.removeNode(e),e.el=e.O&&i?i:t,!0===this.opts.removable&&l(t,!0),t.k?(t.gridstackNode=t.k,delete t.k):e.O&&(delete e.el,delete t.gridstackNode,this.engine.restoreInitial())))},h.GridStack.prototype._=function(t,i,e,s,h,n){let l,o=Object.assign({},s.F),a=this.opts.marginLeft,d=this.opts.marginRight,u=this.opts.marginTop,c=this.opts.marginBottom,g=Math.round(.1*n),f=Math.round(.1*h);if(a=Math.min(a,f),d=Math.min(d,f),u=Math.min(u,g),c=Math.min(c,g),"drag"===i.type){if(s.p)return;let i=e.position.top-s.U;s.U=e.position.top,r.Utils.updateScrollPosition(t,e.position,i);let l=e.position.left+(e.position.left>s.G.left?-d:a),g=e.position.top+(e.position.top>s.G.top?-c:u);o.x=Math.round(l/h),o.y=Math.round(g/n);let f=this.T;if(this.engine.collide(s,o)){let t=this.getRow(),i=Math.max(0,o.y+s.h-t);this.opts.maxRow&&t+i>this.opts.maxRow&&(i=Math.max(0,this.opts.maxRow-t)),this.T=i}else this.T=0;if(this.T!==f&&this.N(),s.x===o.x&&s.y===o.y)return}else if("resize"===i.type){if(o.x<0)return;if(r.Utils.updateScrollResize(i,t,n),o.w=Math.round((e.size.width-a)/h),o.h=Math.round((e.size.height-u)/n),s.w===o.w&&s.h===o.h)return;if(s.W&&s.W.w===o.w&&s.W.h===o.h)return;let d=e.position.left+a,c=e.position.top+u;o.x=Math.round(d/h),o.y=Math.round(c/n),l=!0}s.W=o;let p={x:e.position.left+a,y:e.position.top+u,w:(e.size?e.size.width:s.w*h)-a-d,h:(e.size?e.size.height:s.h*n)-u-c};if(this.engine.moveNodeCheck(s,Object.assign(Object.assign({},o),{cellWidth:h,cellHeight:n,rect:p,resizing:l}))){s.G=e.position,this.engine.cacheRects(h,n,u,d,c,a),delete s.L,l&&s.subGrid&&s.subGrid.onParentResize(),this.T=0,this.N();let t=i.target;this.P(t,s),this.I[i.type]&&this.I[i.type](i,t)}},h.GridStack.prototype.movable=function(t,i){return this.opts.staticGrid||h.GridStack.getElements(t).forEach((t=>{let e=t.gridstackNode;e&&(i?delete e.noMove:e.noMove=!0,this.R(e))})),this},h.GridStack.prototype.resizable=function(t,i){return this.opts.staticGrid||h.GridStack.getElements(t).forEach((t=>{let e=t.gridstackNode;e&&(i?delete e.noResize:e.noResize=!0,this.R(e))})),this},h.GridStack.prototype.disable=function(){if(!this.opts.staticGrid)return this.enableMove(!1),this.enableResize(!1),this.B("disable"),this},h.GridStack.prototype.enable=function(){if(!this.opts.staticGrid)return this.enableMove(!0),this.enableResize(!0),this.B("enable"),this},h.GridStack.prototype.enableMove=function(t){return this.opts.staticGrid||(this.opts.disableDrag=!t,this.engine.nodes.forEach((i=>this.movable(i.el,t)))),this},h.GridStack.prototype.enableResize=function(t){return this.opts.staticGrid||(this.opts.disableResize=!t,this.engine.nodes.forEach((i=>this.resizable(i.el,t)))),this}},334:(t,i)=>{Object.defineProperty(i,"t",{value:!0}),i.GridStackDDI=void 0;class e{static registerPlugin(t){return e.ddi=new t,e.ddi}static get(){return e.ddi||e.registerPlugin(e)}remove(t){return this}}i.GridStackDDI=e},62:(t,i,e)=>{Object.defineProperty(i,"t",{value:!0}),i.GridStackEngine=void 0;const s=e(593);class h{constructor(t={}){this.addedNodes=[],this.removedNodes=[],this.column=t.column||12,this.maxRow=t.maxRow,this.q=t.float,this.nodes=t.nodes||[],this.onChange=t.onChange}batchUpdate(){return this.batchMode?this:(this.batchMode=!0,this.K=this.q,this.q=!0,this.saveInitial())}commit(){return this.batchMode?(this.batchMode=!1,this.q=this.K,delete this.K,this.X().Y()):this}J(t,i){return!this.float&&!this.V&&(!t.D||t.L||i.y<=t.y)}Z(t,i=t,e,h={}){if(this.sortNodes(-1),!(e=e||this.collide(t,i)))return!1;if(t.D&&!h.nested&&!this.float&&this.swap(t,e))return!0;let r=i;this.J(t,i)&&(r={x:0,w:this.column,y:i.y,h:i.h},e=this.collide(t,r,h.skip));let n=!1,l={nested:!0,pack:!1};for(;e=e||this.collide(t,r,h.skip);){let r;if(e.locked||t.D&&!t.L&&i.y>t.y&&!this.float&&(!this.collide(e,Object.assign(Object.assign({},e),{y:t.y}),t)||!this.collide(e,Object.assign(Object.assign({},e),{y:i.y-e.h}),t))?(t.L=t.L||i.y>t.y,r=this.moveNode(t,Object.assign(Object.assign(Object.assign({},i),{y:e.y+e.h}),l)),e.locked&&r?s.Utils.copyPos(i,t):!e.locked&&r&&h.pack&&(this.X(),i.y=e.y+e.h,s.Utils.copyPos(t,i)),n=n||r):r=this.moveNode(e,Object.assign(Object.assign(Object.assign({},e),{y:i.y+i.h,skip:t}),l)),!r)return n;e=void 0}return n}collide(t,i=t,e){return this.nodes.find((h=>h!==t&&h!==e&&s.Utils.isIntercepted(h,i)))}collideAll(t,i=t,e){return this.nodes.filter((h=>h!==t&&h!==e&&s.Utils.isIntercepted(h,i)))}collideCoverage(t,i,e){if(!i.rect||!t.tt)return;let s,h=t.tt,r=Object.assign({},i.rect);return r.y>h.y?(r.h+=r.y-h.y,r.y=h.y):r.h+=h.y-r.y,r.x>h.x?(r.w+=r.x-h.x,r.x=h.x):r.w+=h.x-r.x,e.forEach((t=>{if(t.locked||!t.tt)return;let i=t.tt,e=Number.MAX_VALUE,n=Number.MAX_VALUE,l=.5;h.y<i.y?e=(r.y+r.h-i.y)/i.h:h.y+h.h>i.y+i.h&&(e=(i.y+i.h-r.y)/i.h),h.x<i.x?n=(r.x+r.w-i.x)/i.w:h.x+h.w>i.x+i.w&&(n=(i.x+i.w-r.x)/i.w);let o=Math.min(n,e);o>l&&(l=o,s=t)})),s}cacheRects(t,i,e,s,h,r){return this.nodes.forEach((n=>n.tt={y:n.y*i+e,x:n.x*t+r,w:n.w*t-r-s,h:n.h*i-e-h})),this}swap(t,i){if(!i||i.locked||!t||t.locked)return!1;function e(){let e=i.x,s=i.y;return i.x=t.x,i.y=t.y,t.h!=i.h?(t.x=e,t.y=i.y+i.h):t.w!=i.w?(t.x=i.x+i.w,t.y=s):(t.x=e,t.y=s),t.it=i.it=!0,!0}let h;if(t.w===i.w&&t.h===i.h&&(t.x===i.x||t.y===i.y)&&(h=s.Utils.isTouching(t,i)))return e();if(!1!==h){if(t.w===i.w&&t.x===i.x&&(h||(h=s.Utils.isTouching(t,i)))){if(i.y<t.y){let e=t;t=i,i=e}return e()}if(!1!==h){if(t.h===i.h&&t.y===i.y&&(h||(h=s.Utils.isTouching(t,i)))){if(i.x<t.x){let e=t;t=i,i=e}return e()}return!1}}}isAreaEmpty(t,i,e,s){let h={x:t||0,y:i||0,w:e||1,h:s||1};return!this.collide(h)}compact(){if(0===this.nodes.length)return this;this.batchUpdate().sortNodes();let t=this.nodes;return this.nodes=[],t.forEach((t=>{t.locked||(t.autoPosition=!0),this.addNode(t,!1),t.it=!0})),this.commit()}set float(t){this.q!==t&&(this.q=t||!1,t||this.X().Y())}get float(){return this.q||!1}sortNodes(t){return this.nodes=s.Utils.sort(this.nodes,t,this.column),this}X(){return this.batchMode||(this.sortNodes(),this.float?this.nodes.forEach((t=>{if(t.et||void 0===t.F||t.y===t.F.y)return;let i=t.y;for(;i>t.F.y;)--i,this.collide(t,{x:t.x,y:i,w:t.w,h:t.h})||(t.it=!0,t.y=i)})):this.nodes.forEach(((t,i)=>{if(!t.locked)for(;t.y>0;){let e=0===i?0:t.y-1;if(0!==i&&this.collide(t,{x:t.x,y:e,w:t.w,h:t.h}))break;t.it=t.y!==e,t.y=e}}))),this}prepareNode(t,i){(t=t||{}).st=t.st||h.ht++,void 0!==t.x&&void 0!==t.y&&null!==t.x&&null!==t.y||(t.autoPosition=!0);let e={x:0,y:0,w:1,h:1};return s.Utils.defaults(t,e),t.autoPosition||delete t.autoPosition,t.noResize||delete t.noResize,t.noMove||delete t.noMove,"string"==typeof t.x&&(t.x=Number(t.x)),"string"==typeof t.y&&(t.y=Number(t.y)),"string"==typeof t.w&&(t.w=Number(t.w)),"string"==typeof t.h&&(t.h=Number(t.h)),isNaN(t.x)&&(t.x=e.x,t.autoPosition=!0),isNaN(t.y)&&(t.y=e.y,t.autoPosition=!0),isNaN(t.w)&&(t.w=e.w),isNaN(t.h)&&(t.h=e.h),this.nodeBoundFix(t,i)}nodeBoundFix(t,i){let e=t.F||s.Utils.copyPos({},t);return t.maxW&&(t.w=Math.min(t.w,t.maxW)),t.maxH&&(t.h=Math.min(t.h,t.maxH)),t.minW&&t.minW<=this.column&&(t.w=Math.max(t.w,t.minW)),t.minH&&(t.h=Math.max(t.h,t.minH)),t.w>this.column?(this.column<12&&!this.rt&&(t.w=Math.min(12,t.w),this.cacheOneLayout(t,12)),t.w=this.column):t.w<1&&(t.w=1),this.maxRow&&t.h>this.maxRow?t.h=this.maxRow:t.h<1&&(t.h=1),t.x<0&&(t.x=0),t.y<0&&(t.y=0),t.x+t.w>this.column&&(i?t.w=this.column-t.x:t.x=this.column-t.w),this.maxRow&&t.y+t.h>this.maxRow&&(i?t.h=this.maxRow-t.y:t.y=this.maxRow-t.h),s.Utils.samePos(t,e)||(t.it=!0),t}getDirtyNodes(t){return t?this.nodes.filter((t=>t.it&&!s.Utils.samePos(t,t.F))):this.nodes.filter((t=>t.it))}Y(t){if(this.batchMode||!this.onChange)return this;let i=(t||[]).concat(this.getDirtyNodes());return this.onChange(i),this}cleanNodes(){return this.batchMode||this.nodes.forEach((t=>{delete t.it,delete t.W})),this}saveInitial(){return this.nodes.forEach((t=>{t.F=s.Utils.copyPos({},t),delete t.it})),this.V=this.nodes.some((t=>t.locked)),this}restoreInitial(){return this.nodes.forEach((t=>{s.Utils.samePos(t,t.F)||(s.Utils.copyPos(t,t.F),t.it=!0)})),this.Y(),this}addNode(t,i=!1){let e=this.nodes.find((i=>i.st===t.st));if(e)return e;if(delete(t=this.rt?this.nodeBoundFix(t):this.prepareNode(t)).p,delete t.nt,t.autoPosition){this.sortNodes();for(let i=0;;++i){let e=i%this.column,h=Math.floor(i/this.column);if(e+t.w>this.column)continue;let r={x:e,y:h,w:t.w,h:t.h};if(!this.nodes.find((t=>s.Utils.isIntercepted(r,t)))){t.x=e,t.y=h,delete t.autoPosition;break}}}return this.nodes.push(t),i&&this.addedNodes.push(t),this.Z(t),this.batchMode||this.X().Y(),t}removeNode(t,i=!0,e=!1){return this.nodes.find((i=>i===t))?(e&&this.removedNodes.push(t),i&&(t.nt=!0),this.nodes=this.nodes.filter((i=>i!==t)),this.X().Y([t])):this}removeAll(t=!0){return delete this.lt,0===this.nodes.length?this:(t&&this.nodes.forEach((t=>t.nt=!0)),this.removedNodes=this.nodes,this.nodes=[],this.Y(this.removedNodes))}moveNodeCheck(t,i){if(!this.changedPosConstrain(t,i))return!1;if(i.pack=!0,!this.maxRow)return this.moveNode(t,i);let e,r=new h({column:this.column,float:this.float,nodes:this.nodes.map((i=>i===t?(e=Object.assign({},i),e):Object.assign({},i)))});if(!e)return!1;let n=r.moveNode(e,i)&&r.getRow()<=this.maxRow;if(!n&&!i.resizing){let e=this.collide(t,i);if(e&&this.swap(t,e))return this.Y(),!0}return!!n&&(r.nodes.filter((t=>t.it)).forEach((t=>{let i=this.nodes.find((i=>i.st===t.st));i&&(s.Utils.copyPos(i,t),i.it=!0)})),this.Y(),!0)}willItFit(t){if(delete t.m,!this.maxRow)return!0;let i=new h({column:this.column,float:this.float,nodes:this.nodes.map((t=>Object.assign({},t)))}),e=Object.assign({},t);return this.cleanupNode(e),delete e.el,delete e.st,delete e.content,delete e.grid,i.addNode(e),i.getRow()<=this.maxRow&&(t.m=s.Utils.copyPos({},e),!0)}changedPosConstrain(t,i){return i.w=i.w||t.w,i.h=i.h||t.h,t.x!==i.x||t.y!==i.y||(t.maxW&&(i.w=Math.min(i.w,t.maxW)),t.maxH&&(i.h=Math.min(i.h,t.maxH)),t.minW&&(i.w=Math.max(i.w,t.minW)),t.minH&&(i.h=Math.max(i.h,t.minH)),t.w!==i.w||t.h!==i.h)}moveNode(t,i){if(!t||!i)return!1;void 0===i.pack&&(i.pack=!0),"number"!=typeof i.x&&(i.x=t.x),"number"!=typeof i.y&&(i.y=t.y),"number"!=typeof i.w&&(i.w=t.w),"number"!=typeof i.h&&(i.h=t.h);let e=t.w!==i.w||t.h!==i.h,h=s.Utils.copyPos({},t,!0);if(s.Utils.copyPos(h,i),h=this.nodeBoundFix(h,e),s.Utils.copyPos(i,h),s.Utils.samePos(t,i))return!1;let r=s.Utils.copyPos({},t),n=this.collideAll(t,h,i.skip),l=!0;if(n.length){let e=t.D&&!i.nested?this.collideCoverage(t,i,n):n[0];l=!!e&&!this.Z(t,h,e,i)}return l&&(t.it=!0,s.Utils.copyPos(t,h)),i.pack&&this.X().Y(),!s.Utils.samePos(t,r)}getRow(){return this.nodes.reduce(((t,i)=>Math.max(t,i.y+i.h)),0)}beginUpdate(t){return t.et||(t.et=!0,delete t.L,this.batchMode||this.saveInitial()),this}endUpdate(){let t=this.nodes.find((t=>t.et));return t&&(delete t.et,delete t.L),this}save(t=!0){var i;let e=null===(i=this.lt)||void 0===i?void 0:i.length,s=e&&this.column!==e-1?this.lt[e-1]:null,h=[];return this.sortNodes(),this.nodes.forEach((i=>{let e=null==s?void 0:s.find((t=>t.st===i.st)),r=Object.assign({},i);e&&(r.x=e.x,r.y=e.y,r.w=e.w);for(let t in r)"_"!==t[0]&&null!==r[t]&&void 0!==r[t]||delete r[t];delete r.grid,t||delete r.el,r.autoPosition||delete r.autoPosition,r.noResize||delete r.noResize,r.noMove||delete r.noMove,r.locked||delete r.locked,h.push(r)})),h}layoutsNodesChange(t){return!this.lt||this.rt||this.lt.forEach(((i,e)=>{if(!i||e===this.column)return this;if(e<this.column)this.lt[e]=void 0;else{let s=e/this.column;t.forEach((t=>{if(!t.F)return;let e=i.find((i=>i.st===t.st));e&&(t.y!==t.F.y&&(e.y+=t.y-t.F.y),t.x!==t.F.x&&(e.x=Math.round(t.x*s)),t.w!==t.F.w&&(e.w=Math.round(t.w*s)))}))}})),this}updateNodeWidths(t,i,e,h="moveScale"){var r;if(!this.nodes.length||!i||t===i)return this;this.cacheLayout(this.nodes,t),this.batchUpdate();let n=[],l=!1;if(1===i&&(null==e?void 0:e.length)){l=!0;let t=0;e.forEach((i=>{i.x=0,i.w=1,i.y=Math.max(i.y,t),t=i.y+i.h})),n=e,e=[]}else e=s.Utils.sort(this.nodes,-1,t);let o=[];if(i>t){o=this.lt[i]||[];let s=this.lt.length-1;!o.length&&t!==s&&(null===(r=this.lt[s])||void 0===r?void 0:r.length)&&(t=s,this.lt[s].forEach((t=>{let i=e.find((i=>i.st===t.st));i&&(i.x=t.x,i.y=t.y,i.w=t.w)})))}if(o.forEach((t=>{let i=e.findIndex((i=>i.st===t.st));-1!==i&&(e[i].x=t.x,e[i].y=t.y,e[i].w=t.w,n.push(e[i]),e.splice(i,1))})),e.length)if("function"==typeof h)h(i,t,n,e);else if(!l){let s=i/t,r="move"===h||"moveScale"===h,l="scale"===h||"moveScale"===h;e.forEach((e=>{e.x=1===i?0:r?Math.round(e.x*s):Math.min(e.x,i-1),e.w=1===i||1===t?1:l?Math.round(e.w*s)||1:Math.min(e.w,i),n.push(e)})),e=[]}return n=s.Utils.sort(n,-1,i),this.rt=!0,this.nodes=[],n.forEach((t=>{this.addNode(t,!1),delete t.F})),this.commit(),delete this.rt,this}cacheLayout(t,i,e=!1){let s=[];return t.forEach(((t,i)=>{t.st=t.st||h.ht++,s[i]={x:t.x,y:t.y,w:t.w,st:t.st}})),this.lt=e?[]:this.lt||[],this.lt[i]=s,this}cacheOneLayout(t,i){t.st=t.st||h.ht++;let e={x:t.x,y:t.y,w:t.w,st:t.st};this.lt=this.lt||[],this.lt[i]=this.lt[i]||[];let s=this.lt[i].findIndex((i=>i.st===t.st));return-1===s?this.lt[i].push(e):this.lt[i][s]=e,this}cleanupNode(t){for(let i in t)"_"===i[0]&&"_id"!==i&&delete t[i];return this}}i.GridStackEngine=h,h.ht=1},930:function(t,i,e){var s=this&&this.ot||(Object.create?function(t,i,e,s){void 0===s&&(s=e),Object.defineProperty(t,s,{enumerable:!0,get:function(){return i[e]}})}:function(t,i,e,s){void 0===s&&(s=e),t[s]=i[e]}),h=this&&this.dt||function(t,i){for(var e in t)"default"===e||i.hasOwnProperty(e)||s(i,t,e)};Object.defineProperty(i,"t",{value:!0}),h(e(699),i),h(e(593),i),h(e(62),i),h(e(334),i),h(e(270),i),h(e(761),i)},270:function(t,i,e){var s=this&&this.ot||(Object.create?function(t,i,e,s){void 0===s&&(s=e),Object.defineProperty(t,s,{enumerable:!0,get:function(){return i[e]}})}:function(t,i,e,s){void 0===s&&(s=e),t[s]=i[e]}),h=this&&this.dt||function(t,i){for(var e in t)"default"===e||i.hasOwnProperty(e)||s(i,t,e)};Object.defineProperty(i,"t",{value:!0}),i.GridStack=void 0;const r=e(62),n=e(593),l=e(334);h(e(699),i),h(e(593),i),h(e(62),i),h(e(334),i);const o={column:12,minRow:0,maxRow:0,itemClass:"grid-stack-item",placeholderClass:"grid-stack-placeholder",placeholderText:"",handle:".grid-stack-item-content",handleClass:null,styleInHead:!1,cellHeight:"auto",cellHeightThrottle:100,margin:10,auto:!0,oneColumnSize:768,float:!1,staticGrid:!1,animate:!0,alwaysShowResizeHandle:!1,resizable:{autoHide:!0,handles:"se"},draggable:{handle:".grid-stack-item-content",scroll:!1,appendTo:"body"},disableDrag:!1,disableResize:!1,rtl:"auto",removable:!1,removableOptions:{accept:".grid-stack-item"},marginUnit:"px",cellHeightUnit:"px",disableOneColumnMode:!1,oneColumnModeDomSort:!1};class a{constructor(t,i={}){this.I={},this.T=0,this.el=t,(i=i||{}).row&&(i.minRow=i.maxRow=i.row,delete i.row);let e=n.Utils.toNumber(t.getAttribute("gs-row"));"auto"===i.column&&delete i.column;let s=i;void 0!==s.minWidth&&(i.oneColumnSize=i.oneColumnSize||s.minWidth,delete s.minWidth);let h=Object.assign(Object.assign({},n.Utils.cloneDeep(o)),{column:n.Utils.toNumber(t.getAttribute("gs-column"))||12,minRow:e||n.Utils.toNumber(t.getAttribute("gs-min-row"))||0,maxRow:e||n.Utils.toNumber(t.getAttribute("gs-max-row"))||0,staticGrid:n.Utils.toBool(t.getAttribute("gs-static"))||!1,ut:"grid-stack-instance-"+(1e4*Math.random()).toFixed(0),alwaysShowResizeHandle:i.alwaysShowResizeHandle||!1,resizable:{autoHide:!i.alwaysShowResizeHandle,handles:"se"},draggable:{handle:(i.handleClass?"."+i.handleClass:i.handle?i.handle:"")||".grid-stack-item-content",scroll:!1,appendTo:"body"},removableOptions:{accept:"."+(i.itemClass||"grid-stack-item")}});t.getAttribute("gs-animate")&&(h.animate=n.Utils.toBool(t.getAttribute("gs-animate"))),this.opts=n.Utils.defaults(i,h),i=null,this.ct(),1!==this.opts.column&&!this.opts.disableOneColumnMode&&this.gt()<=this.opts.oneColumnSize&&(this.ft=this.getColumn(),this.opts.column=1),"auto"===this.opts.rtl&&(this.opts.rtl="rtl"===t.style.direction),this.opts.rtl&&this.el.classList.add("grid-stack-rtl");let l=n.Utils.closestByClass(this.el,o.itemClass);l&&l.gridstackNode&&(this.opts.bt=l.gridstackNode,this.opts.bt.subGrid=this,l.classList.add("grid-stack-nested"),this.el.classList.add("grid-stack-nested")),this.vt="auto"===this.opts.cellHeight,this.vt||"initial"===this.opts.cellHeight?this.cellHeight(void 0,!1):("number"==typeof this.opts.cellHeight&&this.opts.cellHeightUnit&&this.opts.cellHeightUnit!==o.cellHeightUnit&&(this.opts.cellHeight=this.opts.cellHeight+this.opts.cellHeightUnit,delete this.opts.cellHeightUnit),this.cellHeight(this.opts.cellHeight,!1)),this.el.classList.add(this.opts.ut),this.yt();let d=this.opts.engineClass||a.engineClass||r.GridStackEngine;if(this.engine=new d({column:this.getColumn(),float:this.opts.float,maxRow:this.opts.maxRow,onChange:t=>{let i=0;this.engine.nodes.forEach((t=>{i=Math.max(i,t.y+t.h)})),t.forEach((t=>{let i=t.el;i&&(t.nt?(i&&i.remove(),delete t.nt):this.P(i,t))})),this.wt(!1,i)}}),this.opts.auto){this.batchUpdate();let t=[];this.getGridItems().forEach((i=>{let e=parseInt(i.getAttribute("gs-x")),s=parseInt(i.getAttribute("gs-y"));t.push({el:i,i:(Number.isNaN(e)?1e3:e)+(Number.isNaN(s)?1e3:s)*this.getColumn()})})),t.sort(((t,i)=>t.i-i.i)).forEach((t=>this._t(t.el))),this.commit()}this.setAnimation(this.opts.animate),this.wt(),12!=this.opts.column&&this.el.classList.add("grid-stack-"+this.opts.column),this.opts.dragIn&&a.setupDragIn(this.opts.dragIn,this.opts.dragInOptions),delete this.opts.dragIn,delete this.opts.dragInOptions,this.A(),this.u(),this.Mt()}static init(t={},i=".grid-stack"){let e=a.getGridElement(i);return e?(e.gridstack||(e.gridstack=new a(e,n.Utils.cloneDeep(t))),e.gridstack):("string"==typeof i?console.error('GridStack.initAll() no grid was found with selector "'+i+'" - element missing or wrong selector ?\nNote: ".grid-stack" is required for proper CSS styling and drag/drop, and is the default selector.'):console.error("GridStack.init() no grid element was passed."),null)}static initAll(t={},i=".grid-stack"){let e=[];return a.getGridElements(i).forEach((i=>{i.gridstack||(i.gridstack=new a(i,n.Utils.cloneDeep(t)),delete t.dragIn,delete t.dragInOptions),e.push(i.gridstack)})),0===e.length&&console.error('GridStack.initAll() no grid was found with selector "'+i+'" - element missing or wrong selector ?\nNote: ".grid-stack" is required for proper CSS styling and drag/drop, and is the default selector.'),e}static addGrid(t,i={}){if(!t)return null;let e=t;if(!t.classList.contains("grid-stack")){let s=document.implementation.createHTMLDocument("");s.body.innerHTML=`<div class="grid-stack ${i.class||""}"></div>`,e=s.body.children[0],t.appendChild(e)}let s=a.init(i,e);if(s.opts.children){let t=s.opts.children;delete s.opts.children,s.load(t)}return s}static registerEngine(t){a.engineClass=t}get placeholder(){if(!this.jt){let t=document.createElement("div");t.className="placeholder-content",this.opts.placeholderText&&(t.innerHTML=this.opts.placeholderText),this.jt=document.createElement("div"),this.jt.classList.add(this.opts.placeholderClass,o.itemClass,this.opts.itemClass),this.placeholder.appendChild(t)}return this.jt}addWidget(t,i){if(arguments.length>2){console.warn("gridstack.ts: `addWidget(el, x, y, width...)` is deprecated. Use `addWidget({x, y, w, content, ...})`. It will be removed soon");let i=arguments,e=1,s={x:i[e++],y:i[e++],w:i[e++],h:i[e++],autoPosition:i[e++],minW:i[e++],maxW:i[e++],minH:i[e++],maxH:i[e++],id:i[e++]};return this.addWidget(t,s)}let e;if("string"==typeof t){let i=document.implementation.createHTMLDocument("");i.body.innerHTML=t,e=i.body.children[0]}else if(0===arguments.length||1===arguments.length&&(void 0!==(s=t).x||void 0!==s.y||void 0!==s.w||void 0!==s.h||void 0!==s.content)){let s=t&&t.content||"";i=t;let h=document.implementation.createHTMLDocument("");h.body.innerHTML=`<div class="grid-stack-item ${this.opts.itemClass||""}"><div class="grid-stack-item-content">${s}</div></div>`,e=h.body.children[0]}else e=t;var s;let h=this.j(e);i=n.Utils.cloneDeep(i)||{},n.Utils.defaults(i,h);let r=this.engine.prepareNode(i);if(this.S(e,i),this.Ot?this.el.prepend(e):this.el.appendChild(e),this._t(e,!0,i),this.N(),r.subGrid&&!r.subGrid.el){let t,i=r.subGrid;"auto"===i.column&&(i.column=r.w,i.disableOneColumnMode=!0,t=!0);let e=r.el.querySelector(".grid-stack-item-content");r.subGrid=a.addGrid(e,r.subGrid),t&&(r.subGrid.zt=!0)}return this.C(),this.H(),e}save(t=!0,i=!1){let e=this.engine.save(t);if(e.forEach((i=>{if(t&&i.el&&!i.subGrid){let t=i.el.querySelector(".grid-stack-item-content");i.content=t?t.innerHTML:void 0,i.content||delete i.content}else t||delete i.content,i.subGrid&&(i.subGrid=i.subGrid.save(t,!0));delete i.el})),i){let t=n.Utils.cloneDeep(this.opts);return t.marginBottom===t.marginTop&&t.marginRight===t.marginLeft&&t.marginTop===t.marginRight&&(t.margin=t.marginTop,delete t.marginTop,delete t.marginRight,delete t.marginBottom,delete t.marginLeft),t.rtl===("rtl"===this.el.style.direction)&&(t.rtl="auto"),this.vt&&(t.cellHeight="auto"),this.zt&&(t.column="auto",delete t.disableOneColumnMode),n.Utils.removeInternalAndSame(t,o),t.children=e,t}return e}load(t,i=!0){let e=a.Utils.sort([...t],-1,this.ft||this.getColumn());this.Ot=!0,this.ft&&this.ft!==this.opts.column&&e.some((t=>t.x+t.w>this.opts.column))&&(this.xt=!0,this.engine.cacheLayout(e,this.ft,!0));let s=[];return this.batchUpdate(),i&&[...this.engine.nodes].forEach((t=>{e.find((i=>t.id===i.id))||("function"==typeof i?i(this,t,!1):(s.push(t),this.removeWidget(t.el,!0,!1)))})),e.forEach((t=>{let e=t.id||0===t.id?this.engine.nodes.find((i=>i.id===t.id)):void 0;if(e){if(this.update(e.el,t),t.subGrid&&t.subGrid.children){let i=e.el.querySelector(".grid-stack");i&&i.gridstack&&(i.gridstack.load(t.subGrid.children),this.Ot=!0)}}else i&&(t="function"==typeof i?i(this,t,!0).gridstackNode:this.addWidget(t).gridstackNode)})),this.engine.removedNodes=s,this.commit(),delete this.xt,delete this.Ot,this}batchUpdate(){return this.engine.batchUpdate(),this}getCellHeight(t=!1){if(this.opts.cellHeight&&"auto"!==this.opts.cellHeight&&(!t||!this.opts.cellHeightUnit||"px"===this.opts.cellHeightUnit))return this.opts.cellHeight;let i=this.el.querySelector("."+this.opts.itemClass);if(i){let t=n.Utils.toNumber(i.getAttribute("gs-h"));return Math.round(i.offsetHeight/t)}let e=parseInt(this.el.getAttribute("gs-current-row"));return e?Math.round(this.el.getBoundingClientRect().height/e):this.opts.cellHeight}cellHeight(t,i=!0){if(i&&void 0!==t&&this.vt!==("auto"===t)&&(this.vt="auto"===t,this.Mt()),"initial"!==t&&"auto"!==t||(t=void 0),void 0===t){let i=-this.opts.marginRight-this.opts.marginLeft+this.opts.marginTop+this.opts.marginBottom;t=this.cellWidth()+i}let e=n.Utils.parseHeight(t);return this.opts.cellHeightUnit===e.unit&&this.opts.cellHeight===e.h||(this.opts.cellHeightUnit=e.unit,this.opts.cellHeight=e.h,i&&this.wt(!0,this.getRow())),this}cellWidth(){return this.gt()/this.getColumn()}gt(){return this.el.clientWidth||this.el.parentElement.clientWidth||window.innerWidth}commit(){return this.engine.commit(),this.$(),this.C(),this.H(),this}compact(){return this.engine.compact(),this.H(),this}column(t,i="moveScale"){if(t<1||this.opts.column===t)return this;let e,s=this.getColumn();return 1===t?this.ft=s:delete this.ft,this.el.classList.remove("grid-stack-"+s),this.el.classList.add("grid-stack-"+t),this.opts.column=this.engine.column=t,1===t&&this.opts.oneColumnModeDomSort&&(e=[],this.getGridItems().forEach((t=>{t.gridstackNode&&e.push(t.gridstackNode)})),e.length||(e=void 0)),this.engine.updateNodeWidths(s,t,e,i),this.vt&&this.cellHeight(),this.xt=!0,this.H(),delete this.xt,this}getColumn(){return this.opts.column}getGridItems(){return Array.from(this.el.children).filter((t=>t.matches("."+this.opts.itemClass)&&!t.matches("."+this.opts.placeholderClass)))}destroy(t=!0){if(this.el)return this.Mt(!0),this.setStatic(!0,!1),this.setAnimation(!1),t?this.el.parentNode.removeChild(this.el):(this.removeAll(t),this.el.classList.remove(this.opts.ut)),this.kt(),this.el.removeAttribute("gs-current-row"),delete this.opts.bt,delete this.opts,delete this.jt,delete this.engine,delete this.el.gridstack,delete this.el,this}float(t){return this.engine.float=t,this.H(),this}getFloat(){return this.engine.float}getCellFromPixel(t,i=!1){let e,s=this.el.getBoundingClientRect();e=i?{top:s.top+document.documentElement.scrollTop,left:s.left}:{top:this.el.offsetTop,left:this.el.offsetLeft};let h=t.left-e.left,r=t.top-e.top,n=s.width/this.getColumn(),l=s.height/parseInt(this.el.getAttribute("gs-current-row"));return{x:Math.floor(h/n),y:Math.floor(r/l)}}getRow(){return Math.max(this.engine.getRow(),this.opts.minRow)}isAreaEmpty(t,i,e,s){return this.engine.isAreaEmpty(t,i,e,s)}makeWidget(t){let i=a.getElement(t);return this._t(i,!0),this.N(),this.C(),this.H(),i}on(t,i){if(-1!==t.indexOf(" "))return t.split(" ").forEach((t=>this.on(t,i))),this;if("change"===t||"added"===t||"removed"===t||"enable"===t||"disable"===t){let e="enable"===t||"disable"===t;this.I[t]=e?t=>i(t):t=>i(t,t.detail),this.el.addEventListener(t,this.I[t])}else"drag"===t||"dragstart"===t||"dragstop"===t||"resizestart"===t||"resize"===t||"resizestop"===t||"dropped"===t?this.I[t]=i:console.log("GridStack.on("+t+') event not supported, but you can still use $(".grid-stack").on(...) while jquery-ui is still used internally.');return this}off(t){return-1!==t.indexOf(" ")?(t.split(" ").forEach((t=>this.off(t))),this):("change"!==t&&"added"!==t&&"removed"!==t&&"enable"!==t&&"disable"!==t||this.I[t]&&this.el.removeEventListener(t,this.I[t]),delete this.I[t],this)}removeWidget(t,i=!0,e=!0){return a.getElements(t).forEach((t=>{if(t.parentElement!==this.el)return;let s=t.gridstackNode;s||(s=this.engine.nodes.find((i=>t===i.el))),s&&(delete t.gridstackNode,l.GridStackDDI.get().remove(t),this.engine.removeNode(s,i,e),i&&t.parentElement&&t.remove())})),e&&(this.$(),this.H()),this}removeAll(t=!0){return this.engine.nodes.forEach((t=>{delete t.el.gridstackNode,l.GridStackDDI.get().remove(t.el)})),this.engine.removeAll(t),this.$(),this}setAnimation(t){return t?this.el.classList.add("grid-stack-animate"):this.el.classList.remove("grid-stack-animate"),this}setStatic(t,i=!0){return this.opts.staticGrid===t||(this.opts.staticGrid=t,this.A(),this.u(),this.engine.nodes.forEach((t=>this.R(t))),i&&this.yt()),this}update(t,i){if(arguments.length>2){console.warn("gridstack.ts: `update(el, x, y, w, h)` is deprecated. Use `update(el, {x, w, content, ...})`. It will be removed soon");let e=arguments,s=1;return i={x:e[s++],y:e[s++],w:e[s++],h:e[s++]},this.update(t,i)}return a.getElements(t).forEach((t=>{if(!t||!t.gridstackNode)return;let e=t.gridstackNode,s=n.Utils.cloneDeep(i);delete s.autoPosition;let h,r=["x","y","w","h"];if(r.some((t=>void 0!==s[t]&&s[t]!==e[t]))&&(h={},r.forEach((t=>{h[t]=void 0!==s[t]?s[t]:e[t],delete s[t]}))),!h&&(s.minW||s.minH||s.maxW||s.maxH)&&(h={}),s.content){let i=t.querySelector(".grid-stack-item-content");i&&i.innerHTML!==s.content&&(i.innerHTML=s.content),delete s.content}let l=!1,o=!1;for(const t in s)"_"!==t[0]&&e[t]!==s[t]&&(e[t]=s[t],l=!0,o=o||!this.opts.staticGrid&&("noResize"===t||"noMove"===t||"locked"===t));h&&(this.engine.cleanNodes().beginUpdate(e).moveNode(e,h),this.N(),this.H(),this.engine.endUpdate()),l&&this.S(t,e),o&&this.R(e)})),this}margin(t){if(!("string"==typeof t&&t.split(" ").length>1)){let i=n.Utils.parseHeight(t);if(this.opts.marginUnit===i.unit&&this.opts.margin===i.h)return}return this.opts.margin=t,this.opts.marginTop=this.opts.marginBottom=this.opts.marginLeft=this.opts.marginRight=void 0,this.ct(),this.wt(!0),this}getMargin(){return this.opts.margin}willItFit(t){if(arguments.length>1){console.warn("gridstack.ts: `willItFit(x,y,w,h,autoPosition)` is deprecated. Use `willItFit({x, y,...})`. It will be removed soon");let t=arguments,i=0,e={x:t[i++],y:t[i++],w:t[i++],h:t[i++],autoPosition:t[i++]};return this.willItFit(e)}return this.engine.willItFit(t)}H(){if(this.engine.batchMode)return this;let t=this.engine.getDirtyNodes(!0);return t&&t.length&&(this.xt||this.engine.layoutsNodesChange(t),this.B("change",t)),this.engine.saveInitial(),this}C(){return this.engine.batchMode||this.engine.addedNodes&&this.engine.addedNodes.length>0&&(this.xt||this.engine.layoutsNodesChange(this.engine.addedNodes),this.engine.addedNodes.forEach((t=>{delete t.it})),this.B("added",this.engine.addedNodes),this.engine.addedNodes=[]),this}$(){return this.engine.batchMode||this.engine.removedNodes&&this.engine.removedNodes.length>0&&(this.B("removed",this.engine.removedNodes),this.engine.removedNodes=[]),this}B(t,i){let e=i?new CustomEvent(t,{bubbles:!1,detail:i}):new Event(t);return this.el.dispatchEvent(e),this}kt(){return this.$t&&(n.Utils.removeStylesheet(this.$t.st),delete this.$t),this}wt(t=!1,i){if(t&&this.kt(),this.N(),0===this.opts.cellHeight)return this;let e=this.opts.cellHeight,s=this.opts.cellHeightUnit,h=`.${this.opts.ut} > .${this.opts.itemClass}`;if(!this.$t){let t="gridstack-style-"+(1e5*Math.random()).toFixed(),i=this.opts.styleInHead?void 0:this.el.parentNode;if(this.$t=n.Utils.createStylesheet(t,i),!this.$t)return this;this.$t.st=t,this.$t.St=0,n.Utils.addCSSRule(this.$t,h,`min-height: ${e}${s}`);let r=this.opts.marginTop+this.opts.marginUnit,l=this.opts.marginBottom+this.opts.marginUnit,o=this.opts.marginRight+this.opts.marginUnit,a=this.opts.marginLeft+this.opts.marginUnit,d=`${h} > .grid-stack-item-content`,u=`.${this.opts.ut} > .grid-stack-placeholder > .placeholder-content`;n.Utils.addCSSRule(this.$t,d,`top: ${r}; right: ${o}; bottom: ${l}; left: ${a};`),n.Utils.addCSSRule(this.$t,u,`top: ${r}; right: ${o}; bottom: ${l}; left: ${a};`),n.Utils.addCSSRule(this.$t,`${h} > .ui-resizable-ne`,`right: ${o}`),n.Utils.addCSSRule(this.$t,`${h} > .ui-resizable-e`,`right: ${o}`),n.Utils.addCSSRule(this.$t,`${h} > .ui-resizable-se`,`right: ${o}; bottom: ${l}`),n.Utils.addCSSRule(this.$t,`${h} > .ui-resizable-nw`,`left: ${a}`),n.Utils.addCSSRule(this.$t,`${h} > .ui-resizable-w`,`left: ${a}`),n.Utils.addCSSRule(this.$t,`${h} > .ui-resizable-sw`,`left: ${a}; bottom: ${l}`)}if((i=i||this.$t.St)>this.$t.St){let t=t=>e*t+s;for(let e=this.$t.St+1;e<=i;e++){let i=t(e);n.Utils.addCSSRule(this.$t,`${h}[gs-y="${e-1}"]`,`top: ${t(e-1)}`),n.Utils.addCSSRule(this.$t,`${h}[gs-h="${e}"]`,`height: ${i}`),n.Utils.addCSSRule(this.$t,`${h}[gs-min-h="${e}"]`,`min-height: ${i}`),n.Utils.addCSSRule(this.$t,`${h}[gs-max-h="${e}"]`,`max-height: ${i}`)}this.$t.St=i}return this}N(){if(!this.engine||this.engine.batchMode)return this;let t=this.getRow()+this.T;if(this.el.setAttribute("gs-current-row",String(t)),0===t)return this.el.style.removeProperty("height"),this;let i=this.opts.cellHeight,e=this.opts.cellHeightUnit;return i?(this.el.style.height=t*i+e,this):this}_t(t,i=!1,e){e||(t.classList.add(this.opts.itemClass),e=this.j(t)),t.gridstackNode=e,e.el=t,e.grid=this;let s=Object.assign({},e);return e=this.engine.addNode(e,i),n.Utils.same(e,s)||this.S(t,e),this.R(e),this}P(t,i){return void 0!==i.x&&null!==i.x&&t.setAttribute("gs-x",String(i.x)),void 0!==i.y&&null!==i.y&&t.setAttribute("gs-y",String(i.y)),i.w&&t.setAttribute("gs-w",String(i.w)),i.h&&t.setAttribute("gs-h",String(i.h)),this}S(t,i){if(!i)return this;this.P(t,i);let e={autoPosition:"gs-auto-position",minW:"gs-min-w",minH:"gs-min-h",maxW:"gs-max-w",maxH:"gs-max-h",noResize:"gs-no-resize",noMove:"gs-no-move",locked:"gs-locked",id:"gs-id",resizeHandles:"gs-resize-handles"};for(const s in e)i[s]?t.setAttribute(e[s],String(i[s])):t.removeAttribute(e[s]);return this}j(t){let i={};i.x=n.Utils.toNumber(t.getAttribute("gs-x")),i.y=n.Utils.toNumber(t.getAttribute("gs-y")),i.w=n.Utils.toNumber(t.getAttribute("gs-w")),i.h=n.Utils.toNumber(t.getAttribute("gs-h")),i.maxW=n.Utils.toNumber(t.getAttribute("gs-max-w")),i.minW=n.Utils.toNumber(t.getAttribute("gs-min-w")),i.maxH=n.Utils.toNumber(t.getAttribute("gs-max-h")),i.minH=n.Utils.toNumber(t.getAttribute("gs-min-h")),i.autoPosition=n.Utils.toBool(t.getAttribute("gs-auto-position")),i.noResize=n.Utils.toBool(t.getAttribute("gs-no-resize")),i.noMove=n.Utils.toBool(t.getAttribute("gs-no-move")),i.locked=n.Utils.toBool(t.getAttribute("gs-locked")),i.resizeHandles=t.getAttribute("gs-resize-handles"),i.id=t.getAttribute("gs-id");for(const t in i){if(!i.hasOwnProperty(t))return;i[t]||0===i[t]||delete i[t]}return i}yt(){let t=["grid-stack-static"];return this.opts.staticGrid?(this.el.classList.add(...t),this.el.setAttribute("gs-static","true")):(this.el.classList.remove(...t),this.el.removeAttribute("gs-static")),this}onParentResize(){if(!this.el||!this.el.clientWidth)return;let t=!1;if(this.zt&&this.opts.bt)this.opts.column!==this.opts.bt.w&&(t=!0,this.column(this.opts.bt.w,"none"));else{let i=!this.opts.disableOneColumnMode&&this.el.clientWidth<=this.opts.oneColumnSize;1===this.opts.column!==i&&(t=!0,this.opts.animate&&this.setAnimation(!1),this.column(i?1:this.ft),this.opts.animate&&this.setAnimation(!0))}return this.vt&&(!t&&this.opts.cellHeightThrottle?(this.Nt||(this.Nt=n.Utils.throttle((()=>this.cellHeight()),this.opts.cellHeightThrottle)),this.Nt()):this.cellHeight()),this.engine.nodes.forEach((t=>{t.subGrid&&t.subGrid.onParentResize()})),this}Mt(t=!1){const i=(this.vt||!this.opts.disableOneColumnMode)&&!this.opts.bt;return t||!i||this.Ct?!t&&i||!this.Ct||(window.removeEventListener("resize",this.Ct),delete this.Ct):(this.Ct=this.onParentResize.bind(this),window.addEventListener("resize",this.Ct)),this}static getElement(t=".grid-stack-item"){return n.Utils.getElement(t)}static getElements(t=".grid-stack-item"){return n.Utils.getElements(t)}static getGridElement(t){return a.getElement(t)}static getGridElements(t){return n.Utils.getElements(t)}ct(){let t,i=0,e=[];return"string"==typeof this.opts.margin&&(e=this.opts.margin.split(" ")),2===e.length?(this.opts.marginTop=this.opts.marginBottom=e[0],this.opts.marginLeft=this.opts.marginRight=e[1]):4===e.length?(this.opts.marginTop=e[0],this.opts.marginRight=e[1],this.opts.marginBottom=e[2],this.opts.marginLeft=e[3]):(t=n.Utils.parseHeight(this.opts.margin),this.opts.marginUnit=t.unit,i=this.opts.margin=t.h),void 0===this.opts.marginTop?this.opts.marginTop=i:(t=n.Utils.parseHeight(this.opts.marginTop),this.opts.marginTop=t.h,delete this.opts.margin),void 0===this.opts.marginBottom?this.opts.marginBottom=i:(t=n.Utils.parseHeight(this.opts.marginBottom),this.opts.marginBottom=t.h,delete this.opts.margin),void 0===this.opts.marginRight?this.opts.marginRight=i:(t=n.Utils.parseHeight(this.opts.marginRight),this.opts.marginRight=t.h,delete this.opts.margin),void 0===this.opts.marginLeft?this.opts.marginLeft=i:(t=n.Utils.parseHeight(this.opts.marginLeft),this.opts.marginLeft=t.h,delete this.opts.margin),this.opts.marginUnit=t.unit,this.opts.marginTop===this.opts.marginBottom&&this.opts.marginLeft===this.opts.marginRight&&this.opts.marginTop===this.opts.marginRight&&(this.opts.margin=this.opts.marginTop),this}static setupDragIn(t,i){}movable(t,i){return this}resizable(t,i){return this}disable(){return this}enable(){return this}enableMove(t){return this}enableResize(t){return this}u(){return this}A(){return this}R(t){return this}v(t,i,e,s,h,r){}_(t,i,e,s,h,r){}M(t,i){}}i.GridStack=a,a.Utils=n.Utils,a.Engine=r.GridStackEngine},861:(t,i)=>{Object.defineProperty(i,"t",{value:!0}),i.DDBaseImplement=void 0,i.DDBaseImplement=class{constructor(){this.Ht=!1,this.Et={}}get disabled(){return this.Ht}on(t,i){this.Et[t]=i}off(t){delete this.Et[t]}enable(){this.Ht=!1}disable(){this.Ht=!0}destroy(){delete this.Et}triggerEvent(t,i){if(!this.disabled&&this.Et&&this.Et[t])return this.Et[t](i)}}},311:(t,i,e)=>{Object.defineProperty(i,"t",{value:!0}),i.DDDraggable=void 0;const s=e(849),h=e(943),r=e(861);class n extends r.DDBaseImplement{constructor(t,i={}){super(),this.dragging=!1,this.ui=()=>{const t=this.el.parentElement.getBoundingClientRect(),i=this.helper.getBoundingClientRect();return{position:{top:i.top-t.top,left:i.left-t.left}}},this.el=t,this.option=i;let e=i.handle.substring(1);this.dragEl=t.classList.contains(e)?t:t.querySelector(i.handle)||t,this.It=this.It.bind(this),this.Rt=this.Rt.bind(this),this.At=this.At.bind(this),this.enable()}on(t,i){super.on(t,i)}off(t){super.off(t)}enable(){super.enable(),this.dragEl.draggable=!0,this.dragEl.addEventListener("dragstart",this.It),this.el.classList.remove("ui-draggable-disabled"),this.el.classList.add("ui-draggable")}disable(t=!1){super.disable(),this.dragEl.removeAttribute("draggable"),this.dragEl.removeEventListener("dragstart",this.It),this.el.classList.remove("ui-draggable"),t||this.el.classList.add("ui-draggable-disabled")}destroy(){this.dragging&&this.At({}),this.disable(!0),delete this.el,delete this.helper,delete this.option,super.destroy()}updateOption(t){return Object.keys(t).forEach((i=>this.option[i]=t[i])),this}It(t){s.DDManager.dragElement=this,this.helper=this.Dt(t),this.Wt(),this.dragOffset=this.Ft(t,this.el,this.helperContainment);const i=h.DDUtils.initEvent(t,{target:this.el,type:"dragstart"});this.helper!==this.el?(this.Pt(i),this.Tt(t)):this.dragFollowTimer=window.setTimeout((()=>{delete this.dragFollowTimer,this.Pt(i)}),0),this.Gt(t)}Pt(t){return this.Ut(),document.addEventListener("dragover",this.Rt,n.dragEventListenerOption),this.dragEl.addEventListener("dragend",this.At),this.option.start&&this.option.start(t,this.ui()),this.dragging=!0,this.helper.classList.add("ui-draggable-dragging"),this.triggerEvent("dragstart",t),this}Rt(t){t.preventDefault(),this.Tt(t);const i=h.DDUtils.initEvent(t,{target:this.el,type:"drag"});this.option.drag&&this.option.drag(i,this.ui()),this.triggerEvent("drag",i)}At(t){if(this.dragFollowTimer)return clearTimeout(this.dragFollowTimer),void delete this.dragFollowTimer;this.paintTimer&&cancelAnimationFrame(this.paintTimer),document.removeEventListener("dragover",this.Rt,n.dragEventListenerOption),this.dragEl.removeEventListener("dragend",this.At),this.dragging=!1,this.helper.classList.remove("ui-draggable-dragging"),this.helperContainment.style.position=this.parentOriginStylePosition||null,this.helper===this.el?this.Lt():this.helper.remove();const i=h.DDUtils.initEvent(t,{target:this.el,type:"dragstop"});this.option.stop&&this.option.stop(i),this.triggerEvent("dragstop",i),delete s.DDManager.dragElement,delete this.helper}Dt(t){let i=this.el;return"function"==typeof this.option.helper?i=this.option.helper(t):"clone"===this.option.helper&&(i=h.DDUtils.clone(this.el)),document.body.contains(i)||h.DDUtils.appendTo(i,"parent"===this.option.appendTo?this.el.parentNode:this.option.appendTo),i===this.el&&(this.dragElementOriginStyle=n.originStyleProp.map((t=>this.el.style[t]))),i}Ut(){const t=this.helper.getBoundingClientRect(),i=this.helper.style;return i.pointerEvents="none",i["min-width"]=0,i.width=this.dragOffset.width+"px",i.height=this.dragOffset.height+"px",i.willChange="left, top",i.position="fixed",i.left=t.left+"px",i.top=t.top+"px",i.transition="none",setTimeout((()=>{this.helper&&(i.transition=null)}),0),this}Lt(){var t;let i=null===(t=this.helper)||void 0===t?void 0:t.gridstackNode;if(this.dragElementOriginStyle&&(!i||!i.o)){let t=this.helper,i=this.dragElementOriginStyle.transition||null;t.style.transition=this.dragElementOriginStyle.transition="none",n.originStyleProp.forEach((i=>t.style[i]=this.dragElementOriginStyle[i]||null)),setTimeout((()=>t.style.transition=i),50)}return delete this.dragElementOriginStyle,this}Tt(t){this.paintTimer&&cancelAnimationFrame(this.paintTimer),this.paintTimer=requestAnimationFrame((()=>{delete this.paintTimer;const i=this.dragOffset;let e={left:0,top:0};if("absolute"===this.helper.style.position){const{left:t,top:i}=this.helperContainment.getBoundingClientRect();e={left:t,top:i}}this.helper.style.left=t.clientX+i.offsetLeft-e.left+"px",this.helper.style.top=t.clientY+i.offsetTop-e.top+"px"}))}Wt(){return this.helperContainment=this.helper.parentElement,"fixed"!==this.helper.style.position&&(this.parentOriginStylePosition=this.helperContainment.style.position,window.getComputedStyle(this.helperContainment).position.match(/static/)&&(this.helperContainment.style.position="relative")),this}Gt(t){let i=document.createElement("div");return i.style.width="1px",i.style.height="1px",i.style.position="fixed",document.body.appendChild(i),t.dataTransfer.setDragImage(i,0,0),setTimeout((()=>document.body.removeChild(i))),t.stopPropagation(),this}Ft(t,i,e){let s=0,r=0;if(e){const t=document.createElement("div");h.DDUtils.addElStyles(t,{opacity:"0",position:"fixed",top:"0px",left:"0px",width:"1px",height:"1px",zIndex:"-999999"}),e.appendChild(t);const i=t.getBoundingClientRect();e.removeChild(t),s=i.left,r=i.top}const n=i.getBoundingClientRect();return{left:n.left,top:n.top,offsetLeft:-t.clientX+n.left-s,offsetTop:-t.clientY+n.top-r,width:n.width,height:n.height}}}i.DDDraggable=n,n.dragEventListenerOption=!0,n.originStyleProp=["transition","pointerEvents","position","left","top","opacity","zIndex","width","height","willChange","min-width"]},54:(t,i,e)=>{Object.defineProperty(i,"t",{value:!0}),i.DDDroppable=void 0;const s=e(849),h=e(861),r=e(943);class n extends h.DDBaseImplement{constructor(t,i={}){super(),this.el=t,this.option=i,this.Bt=this.Bt.bind(this),this.qt=this.qt.bind(this),this.Kt=this.Kt.bind(this),this.Yt=this.Yt.bind(this),this.el.classList.add("ui-droppable"),this.el.addEventListener("dragenter",this.Bt),this.Xt()}on(t,i){super.on(t,i)}off(t){super.off(t)}enable(){this.disabled&&(super.enable(),this.el.classList.remove("ui-droppable-disabled"),this.el.addEventListener("dragenter",this.Bt))}disable(t=!1){this.disabled||(super.disable(),t||this.el.classList.add("ui-droppable-disabled"),this.el.removeEventListener("dragenter",this.Bt))}destroy(){this.Jt(),this.disable(!0),this.el.classList.remove("ui-droppable"),this.el.classList.remove("ui-droppable-disabled"),super.destroy()}updateOption(t){return Object.keys(t).forEach((i=>this.option[i]=t[i])),this.Xt(),this}Bt(t){if(!this.Qt())return;if(t.preventDefault(),t.stopPropagation(),this.moving)return;this.moving=!0;const i=r.DDUtils.initEvent(t,{target:this.el,type:"dropover"});this.option.over&&this.option.over(i,this.Vt(s.DDManager.dragElement)),this.triggerEvent("dropover",i),this.el.addEventListener("dragover",this.qt),this.el.addEventListener("drop",this.Yt),this.el.addEventListener("dragleave",this.Kt),n.lastActive&&n.lastActive!==this&&n.lastActive.Kt(t,!0),n.lastActive=this}qt(t){t.preventDefault(),t.stopPropagation()}Kt(t,i){var e;if(t.preventDefault(),t.stopPropagation(),!i){let i=r.DDUtils.inside(t,this.el),h=s.DDManager.dragElement.el;if(i&&!(null===(e=h.gridstackNode)||void 0===e?void 0:e.subGrid)&&(i=!this.el.gridstack.engine.nodes.filter((t=>t.subGrid)).map((t=>t.subGrid.el)).some((i=>r.DDUtils.inside(t,i)))),i)return}if(this.moving){const i=r.DDUtils.initEvent(t,{target:this.el,type:"dropout"});this.option.out&&this.option.out(i,this.Vt(s.DDManager.dragElement)),this.triggerEvent("dropout",i)}this.Jt(),n.lastActive===this&&delete n.lastActive}Yt(t){if(!this.moving)return;t.preventDefault();const i=r.DDUtils.initEvent(t,{target:this.el,type:"drop"});this.option.drop&&this.option.drop(i,this.Vt(s.DDManager.dragElement)),this.triggerEvent("drop",i),this.Jt()}Jt(){this.moving&&(delete this.moving,this.el.removeEventListener("dragover",this.qt),this.el.removeEventListener("drop",this.Yt),this.el.removeEventListener("dragleave",this.Kt))}Qt(){return s.DDManager.dragElement&&(!this.accept||this.accept(s.DDManager.dragElement.el))}Xt(){return this.option.accept&&"string"==typeof this.option.accept?this.accept=t=>t.matches(this.option.accept):this.accept=this.option.accept,this}Vt(t){return Object.assign({draggable:t.el},t.ui())}}i.DDDroppable=n},485:(t,i,e)=>{Object.defineProperty(i,"t",{value:!0}),i.DDElement=void 0;const s=e(97),h=e(311),r=e(54);class n{constructor(t){this.el=t}static init(t){return t.ddElement||(t.ddElement=new n(t)),t.ddElement}on(t,i){return this.ddDraggable&&["drag","dragstart","dragstop"].indexOf(t)>-1?this.ddDraggable.on(t,i):this.ddDroppable&&["drop","dropover","dropout"].indexOf(t)>-1?this.ddDroppable.on(t,i):this.ddResizable&&["resizestart","resize","resizestop"].indexOf(t)>-1&&this.ddResizable.on(t,i),this}off(t){return this.ddDraggable&&["drag","dragstart","dragstop"].indexOf(t)>-1?this.ddDraggable.off(t):this.ddDroppable&&["drop","dropover","dropout"].indexOf(t)>-1?this.ddDroppable.off(t):this.ddResizable&&["resizestart","resize","resizestop"].indexOf(t)>-1&&this.ddResizable.off(t),this}setupDraggable(t){return this.ddDraggable?this.ddDraggable.updateOption(t):this.ddDraggable=new h.DDDraggable(this.el,t),this}cleanDraggable(){return this.ddDraggable&&(this.ddDraggable.destroy(),delete this.ddDraggable),this}setupResizable(t){return this.ddResizable?this.ddResizable.updateOption(t):this.ddResizable=new s.DDResizable(this.el,t),this}cleanResizable(){return this.ddResizable&&(this.ddResizable.destroy(),delete this.ddResizable),this}setupDroppable(t){return this.ddDroppable?this.ddDroppable.updateOption(t):this.ddDroppable=new r.DDDroppable(this.el,t),this}cleanDroppable(){return this.ddDroppable&&(this.ddDroppable.destroy(),delete this.ddDroppable),this}}i.DDElement=n},849:(t,i)=>{Object.defineProperty(i,"t",{value:!0}),i.DDManager=void 0,i.DDManager=class{}},680:(t,i)=>{Object.defineProperty(i,"t",{value:!0}),i.DDResizableHandle=void 0;class e{constructor(t,i,e){this.moving=!1,this.host=t,this.dir=i,this.option=e,this.Zt=this.Zt.bind(this),this.ti=this.ti.bind(this),this.ii=this.ii.bind(this),this.ei()}ei(){const t=document.createElement("div");return t.classList.add("ui-resizable-handle"),t.classList.add(`${e.prefix}${this.dir}`),t.style.zIndex="100",t.style.userSelect="none",this.el=t,this.host.appendChild(this.el),this.el.addEventListener("mousedown",this.Zt),this}destroy(){return this.moving&&this.ii(this.mouseDownEvent),this.el.removeEventListener("mousedown",this.Zt),this.host.removeChild(this.el),delete this.el,delete this.host,this}Zt(t){t.preventDefault(),this.mouseDownEvent=t,document.addEventListener("mousemove",this.ti,!0),document.addEventListener("mouseup",this.ii)}ti(t){let i=this.mouseDownEvent;!this.moving&&Math.abs(t.x-i.x)+Math.abs(t.y-i.y)>2?(this.moving=!0,this.B("start",this.mouseDownEvent)):this.moving&&this.B("move",t)}ii(t){this.moving&&this.B("stop",t),document.removeEventListener("mousemove",this.ti,!0),document.removeEventListener("mouseup",this.ii),delete this.moving,delete this.mouseDownEvent}B(t,i){return this.option[t]&&this.option[t](i),this}}i.DDResizableHandle=e,e.prefix="ui-resizable-"},97:(t,i,e)=>{Object.defineProperty(i,"t",{value:!0}),i.DDResizable=void 0;const s=e(680),h=e(861),r=e(943),n=e(593);class l extends h.DDBaseImplement{constructor(t,i={}){super(),this.si=()=>{this.el.classList.remove("ui-resizable-autohide")},this.hi=()=>{this.el.classList.add("ui-resizable-autohide")},this.Vt=()=>{const t=this.el.parentElement.getBoundingClientRect(),i={width:this.originalRect.width,height:this.originalRect.height+this.scrolled,left:this.originalRect.left,top:this.originalRect.top-this.scrolled},e=this.temporalRect||i;return{position:{left:e.left-t.left,top:e.top-t.top},size:{width:e.width,height:e.height}}},this.el=t,this.option=i,this.enable(),this.ri(),this.ni()}on(t,i){super.on(t,i)}off(t){super.off(t)}enable(){super.enable(),this.el.classList.add("ui-resizable"),this.el.classList.remove("ui-resizable-disabled")}disable(){super.disable(),this.el.classList.add("ui-resizable-disabled"),this.el.classList.remove("ui-resizable")}destroy(){this.li(),this.option.autoHide&&(this.el.removeEventListener("mouseover",this.si),this.el.removeEventListener("mouseout",this.hi)),this.el.classList.remove("ui-resizable"),delete this.el,super.destroy()}updateOption(t){let i=t.handles&&t.handles!==this.option.handles,e=t.autoHide&&t.autoHide!==this.option.autoHide;return Object.keys(t).forEach((i=>this.option[i]=t[i])),i&&(this.li(),this.ni()),e&&this.ri(),this}ri(){return this.option.autoHide?(this.el.classList.add("ui-resizable-autohide"),this.el.addEventListener("mouseover",this.si),this.el.addEventListener("mouseout",this.hi)):(this.el.classList.remove("ui-resizable-autohide"),this.el.removeEventListener("mouseover",this.si),this.el.removeEventListener("mouseout",this.hi)),this}ni(){let t=this.option.handles||"e,s,se";return"all"===t&&(t="n,e,s,w,se,sw,ne,nw"),this.handlers=t.split(",").map((t=>t.trim())).map((t=>new s.DDResizableHandle(this.el,t,{start:t=>{this.oi(t)},stop:t=>{this.ai(t)},move:i=>{this.di(i,t)}}))),this}oi(t){this.originalRect=this.el.getBoundingClientRect(),this.scrollEl=n.Utils.getScrollElement(this.el),this.scrollY=this.scrollEl.scrollTop,this.scrolled=0,this.startEvent=t,this.ci(),this.gi();const i=r.DDUtils.initEvent(t,{type:"resizestart",target:this.el});return this.option.start&&this.option.start(i,this.Vt()),this.el.classList.add("ui-resizable-resizing"),this.triggerEvent("resizestart",i),this}di(t,i){this.scrolled=this.scrollEl.scrollTop-this.scrollY,this.temporalRect=this.fi(t,i),this.gi();const e=r.DDUtils.initEvent(t,{type:"resize",target:this.el});return this.option.resize&&this.option.resize(e,this.Vt()),this.triggerEvent("resize",e),this}ai(t){const i=r.DDUtils.initEvent(t,{type:"resizestop",target:this.el});return this.option.stop&&this.option.stop(i),this.el.classList.remove("ui-resizable-resizing"),this.triggerEvent("resizestop",i),this.pi(),delete this.startEvent,delete this.originalRect,delete this.temporalRect,delete this.scrollY,delete this.scrolled,this}ci(){return this.elOriginStyleVal=l.mi.map((t=>this.el.style[t])),this.parentOriginStylePosition=this.el.parentElement.style.position,window.getComputedStyle(this.el.parentElement).position.match(/static/)&&(this.el.parentElement.style.position="relative"),this.el.style.position="absolute",this.el.style.opacity="0.8",this}pi(){return l.mi.forEach(((t,i)=>{this.el.style[t]=this.elOriginStyleVal[i]||null})),this.el.parentElement.style.position=this.parentOriginStylePosition||null,this}fi(t,i){const e=this.startEvent,s={width:this.originalRect.width,height:this.originalRect.height+this.scrolled,left:this.originalRect.left,top:this.originalRect.top-this.scrolled},h=t.clientX-e.clientX,r=t.clientY-e.clientY;i.indexOf("e")>-1?s.width+=h:i.indexOf("w")>-1&&(s.width-=h,s.left+=h),i.indexOf("s")>-1?s.height+=r:i.indexOf("n")>-1&&(s.height-=r,s.top+=r);const n=this.bi(s.width,s.height);return Math.round(s.width)!==Math.round(n.width)&&(i.indexOf("w")>-1&&(s.left+=s.width-n.width),s.width=n.width),Math.round(s.height)!==Math.round(n.height)&&(i.indexOf("n")>-1&&(s.top+=s.height-n.height),s.height=n.height),s}bi(t,i){const e=this.option.maxWidth||Number.MAX_SAFE_INTEGER,s=this.option.minWidth||t,h=this.option.maxHeight||Number.MAX_SAFE_INTEGER,r=this.option.minHeight||i;return{width:Math.min(e,Math.max(s,t)),height:Math.min(h,Math.max(r,i))}}gi(){let t={left:0,top:0,width:0,height:0};if("absolute"===this.el.style.position){const i=this.el.parentElement,{left:e,top:s}=i.getBoundingClientRect();t={left:e,top:s,width:0,height:0}}return this.temporalRect?(Object.keys(this.temporalRect).forEach((i=>{const e=this.temporalRect[i];this.el.style[i]=e-t[i]+"px"})),this):this}li(){return this.handlers.forEach((t=>t.destroy())),delete this.handlers,this}}i.DDResizable=l,l.mi=["width","height","position","left","top","opacity","zIndex"]},943:(t,i)=>{Object.defineProperty(i,"t",{value:!0}),i.DDUtils=void 0;class e{static clone(t){const i=t.cloneNode(!0);return i.removeAttribute("id"),i}static appendTo(t,i){let e;e="string"==typeof i?document.querySelector(i):i,e&&e.appendChild(t)}static setPositionRelative(t){/^(?:r|a|f)/.test(window.getComputedStyle(t).position)||(t.style.position="relative")}static addElStyles(t,i){if(i instanceof Object)for(const e in i)i.hasOwnProperty(e)&&(Array.isArray(i[e])?i[e].forEach((i=>{t.style[e]=i})):t.style[e]=i[e])}static initEvent(t,i){const e={type:i.type},s={button:0,which:0,buttons:1,bubbles:!0,cancelable:!0,target:i.target?i.target:t.target};return t.dataTransfer&&(e.dataTransfer=t.dataTransfer),["altKey","ctrlKey","metaKey","shiftKey"].forEach((i=>e[i]=t[i])),["pageX","pageY","clientX","clientY","screenX","screenY"].forEach((i=>e[i]=t[i])),Object.assign(Object.assign({},e),s)}static inside(t,i){let e=t.relatedTarget||t.fromElement;if(!e){const{bottom:e,left:s,right:h,top:r}=i.getBoundingClientRect();return t.x<h&&t.x>s&&t.y<e&&t.y>r}return i.contains(e)}}i.DDUtils=e,e.isEventSupportPassiveOption=(()=>{let t=!1,i=()=>{};return document.addEventListener("test",i,{get passive(){return t=!0,!0}}),document.removeEventListener("test",i),t})()},761:function(t,i,e){var s=this&&this.ot||(Object.create?function(t,i,e,s){void 0===s&&(s=e),Object.defineProperty(t,s,{enumerable:!0,get:function(){return i[e]}})}:function(t,i,e,s){void 0===s&&(s=e),t[s]=i[e]}),h=this&&this.dt||function(t,i){for(var e in t)"default"===e||i.hasOwnProperty(e)||s(i,t,e)};Object.defineProperty(i,"t",{value:!0}),i.GridStackDDNative=void 0;const r=e(849),n=e(485),l=e(21),o=e(593);h(e(21),i);class a extends l.GridStackDD{resizable(t,i,e,s){return this.vi(t).forEach((t=>{if("disable"===i||"enable"===i)t.ddResizable&&t.ddResizable[i]();else if("destroy"===i)t.ddResizable&&t.cleanResizable();else if("option"===i)t.setupResizable({[e]:s});else{const e=t.el.gridstackNode.grid;let s=t.el.getAttribute("gs-resize-handles")?t.el.getAttribute("gs-resize-handles"):e.opts.resizable.handles;t.setupResizable(Object.assign(Object.assign(Object.assign({},e.opts.resizable),{handles:s}),{start:i.start,stop:i.stop,resize:i.resize}))}})),this}draggable(t,i,e,s){return this.vi(t).forEach((t=>{if("disable"===i||"enable"===i)t.ddDraggable&&t.ddDraggable[i]();else if("destroy"===i)t.ddDraggable&&t.cleanDraggable();else if("option"===i)t.setupDraggable({[e]:s});else{const e=t.el.gridstackNode.grid;t.setupDraggable(Object.assign(Object.assign({},e.opts.draggable),{containment:e.opts.bt&&!e.opts.dragOut?e.el.parentElement:e.opts.draggable.containment||null,start:i.start,stop:i.stop,drag:i.drag}))}})),this}dragIn(t,i){return this.vi(t).forEach((t=>t.setupDraggable(i))),this}droppable(t,i,e,s){return"function"!=typeof i.accept||i.yi||(i.yi=i.accept,i.accept=t=>i.yi(t)),this.vi(t).forEach((t=>{"disable"===i||"enable"===i?t.ddDroppable&&t.ddDroppable[i]():"destroy"===i?t.ddDroppable&&t.cleanDroppable():"option"===i?t.setupDroppable({[e]:s}):t.setupDroppable(i)})),this}isDroppable(t){return!(!(t&&t.ddElement&&t.ddElement.ddDroppable)||t.ddElement.ddDroppable.disabled)}isDraggable(t){return!(!(t&&t.ddElement&&t.ddElement.ddDraggable)||t.ddElement.ddDraggable.disabled)}isResizable(t){return!(!(t&&t.ddElement&&t.ddElement.ddResizable)||t.ddElement.ddResizable.disabled)}on(t,i,e){return this.vi(t).forEach((t=>t.on(i,(t=>{e(t,r.DDManager.dragElement?r.DDManager.dragElement.el:t.target,r.DDManager.dragElement?r.DDManager.dragElement.helper:null)})))),this}off(t,i){return this.vi(t).forEach((t=>t.off(i))),this}vi(t,i=!0){let e=o.Utils.getElements(t);if(!e.length)return[];let s=e.map((t=>t.ddElement||(i?n.DDElement.init(t):null)));return i||s.filter((t=>t)),s}}i.GridStackDDNative=a,l.GridStackDD.registerPlugin(a)},699:(t,i)=>{Object.defineProperty(i,"t",{value:!0})},593:(t,i)=>{Object.defineProperty(i,"t",{value:!0}),i.Utils=i.obsoleteAttr=i.obsoleteOptsDel=i.obsoleteOpts=i.obsolete=void 0,i.obsolete=function(t,i,e,s,h){let r=(...r)=>(console.warn("gridstack.js: Function `"+e+"` is deprecated in "+h+" and has been replaced with `"+s+"`. It will be **completely** removed in v1.0"),i.apply(t,r));return r.prototype=i.prototype,r},i.obsoleteOpts=function(t,i,e,s){void 0!==t[i]&&(t[e]=t[i],console.warn("gridstack.js: Option `"+i+"` is deprecated in "+s+" and has been replaced with `"+e+"`. It will be **completely** removed in v1.0"))},i.obsoleteOptsDel=function(t,i,e,s){void 0!==t[i]&&console.warn("gridstack.js: Option `"+i+"` is deprecated in "+e+s)},i.obsoleteAttr=function(t,i,e,s){let h=t.getAttribute(i);null!==h&&(t.setAttribute(e,h),console.warn("gridstack.js: attribute `"+i+"`="+h+" is deprecated on this object in "+s+" and has been replaced with `"+e+"`. It will be **completely** removed in v1.0"))};class e{static getElements(t){if("string"==typeof t){let i=document.querySelectorAll(t);return i.length||"."===t[0]||"#"===t[0]||(i=document.querySelectorAll("."+t),i.length||(i=document.querySelectorAll("#"+t))),Array.from(i)}return[t]}static getElement(t){if("string"==typeof t){if(!t.length)return null;if("#"===t[0])return document.getElementById(t.substring(1));if("."===t[0]||"["===t[0])return document.querySelector(t);if(!isNaN(+t[0]))return document.getElementById(t);let i=document.querySelector(t);return i||(i=document.getElementById(t)),i||(i=document.querySelector("."+t)),i}return t}static isIntercepted(t,i){return!(t.y>=i.y+i.h||t.y+t.h<=i.y||t.x+t.w<=i.x||t.x>=i.x+i.w)}static isTouching(t,i){return e.isIntercepted(t,{x:i.x-.5,y:i.y-.5,w:i.w+1,h:i.h+1})}static sort(t,i,e){return e=e||t.reduce(((t,i)=>Math.max(i.x+i.w,t)),0)||12,-1===i?t.sort(((t,i)=>i.x+i.y*e-(t.x+t.y*e))):t.sort(((t,i)=>t.x+t.y*e-(i.x+i.y*e)))}static createStylesheet(t,i){let e=document.createElement("style");return e.setAttribute("type","text/css"),e.setAttribute("gs-style-id",t),e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),i?i.insertBefore(e,i.firstChild):(i=document.getElementsByTagName("head")[0]).appendChild(e),e.sheet}static removeStylesheet(t){let i=document.querySelector("STYLE[gs-style-id="+t+"]");i&&i.parentNode&&i.remove()}static addCSSRule(t,i,e){"function"==typeof t.addRule?t.addRule(i,e):"function"==typeof t.insertRule&&t.insertRule(`${i}{${e}}`)}static toBool(t){return"boolean"==typeof t?t:"string"==typeof t?!(""===(t=t.toLowerCase())||"no"===t||"false"===t||"0"===t):Boolean(t)}static toNumber(t){return null===t||0===t.length?void 0:Number(t)}static parseHeight(t){let i,e="px";if("string"==typeof t){let s=t.match(/^(-[0-9]+\.[0-9]+|[0-9]*\.[0-9]+|-[0-9]+|[0-9]+)(px|em|rem|vh|vw|%)?$/);if(!s)throw new Error("Invalid height");e=s[2]||"px",i=parseFloat(s[1])}else i=t;return{h:i,unit:e}}static defaults(t,...i){return i.forEach((i=>{for(const e in i){if(!i.hasOwnProperty(e))return;null===t[e]||void 0===t[e]?t[e]=i[e]:"object"==typeof i[e]&&"object"==typeof t[e]&&this.defaults(t[e],i[e])}})),t}static same(t,i){if("object"!=typeof t)return t==i;if(typeof t!=typeof i)return!1;if(Object.keys(t).length!==Object.keys(i).length)return!1;for(const e in t)if(t[e]!==i[e])return!1;return!0}static copyPos(t,i,e=!1){return t.x=i.x,t.y=i.y,t.w=i.w,t.h=i.h,e&&(i.minW&&(t.minW=i.minW),i.minH&&(t.minH=i.minH),i.maxW&&(t.maxW=i.maxW),i.maxH&&(t.maxH=i.maxH)),t}static samePos(t,i){return t&&i&&t.x===i.x&&t.y===i.y&&t.w===i.w&&t.h===i.h}static removeInternalAndSame(t,i){if("object"==typeof t&&"object"==typeof i)for(let e in t){let s=t[e];if("_"===e[0]||s===i[e])delete t[e];else if(s&&"object"==typeof s&&void 0!==i[e]){for(let t in s)s[t]!==i[e][t]&&"_"!==t[0]||delete s[t];Object.keys(s).length||delete t[e]}}}static closestByClass(t,i){for(;t;){if(t.classList.contains(i))return t;t=t.parentElement}return null}static throttle(t,i){let e=!1;return(...s)=>{e||(e=!0,setTimeout((()=>{t(...s),e=!1}),i))}}static removePositioningStyles(t){let i=t.style;i.position&&i.removeProperty("position"),i.left&&i.removeProperty("left"),i.top&&i.removeProperty("top"),i.width&&i.removeProperty("width"),i.height&&i.removeProperty("height")}static getScrollElement(t){if(!t)return document.scrollingElement||document.documentElement;const i=getComputedStyle(t);return/(auto|scroll)/.test(i.overflow+i.overflowY)?t:this.getScrollElement(t.parentElement)}static updateScrollPosition(t,i,e){let s=t.getBoundingClientRect(),h=window.innerHeight||document.documentElement.clientHeight;if(s.top<0||s.bottom>h){let r=s.bottom-h,n=s.top,l=this.getScrollElement(t);if(null!==l){let o=l.scrollTop;s.top<0&&e<0?t.offsetHeight>h?l.scrollTop+=e:l.scrollTop+=Math.abs(n)>Math.abs(e)?e:n:e>0&&(t.offsetHeight>h?l.scrollTop+=e:l.scrollTop+=r>e?e:r),i.top+=l.scrollTop-o}}}static updateScrollResize(t,i,e){const s=this.getScrollElement(i),h=s.clientHeight,r=s===this.getScrollElement()?0:s.getBoundingClientRect().top,n=t.clientY-r,l=n>h-e;n<e?s.scrollBy({behavior:"smooth",top:n-e}):l&&s.scrollBy({behavior:"smooth",top:e-(h-n)})}static clone(t){return null==t||"object"!=typeof t?t:t instanceof Array?[...t]:Object.assign({},t)}static cloneDeep(t){const i=e.clone(t);for(const h in i)i.hasOwnProperty(h)&&"object"==typeof i[h]&&"__"!==h.substring(0,2)&&!s.find((t=>t===h))&&(i[h]=e.cloneDeep(t[h]));return i}}i.Utils=e;const s=["_isNested","el","grid","subGrid","engine"]}},i={};return function e(s){var h=i[s];if(void 0!==h)return h.exports;var r=i[s]={exports:{}};return t[s].call(r.exports,r,r.exports,e),r.exports}(930).GridStack})()},1371:function(t,i,e){"use strict";e.r(i)},3081:function(t,i,e){"use strict";e.r(i)}},function(t){var i;i=3173,t(t.s=i)}]);